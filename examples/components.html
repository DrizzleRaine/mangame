<!DOCTYPE html>
<html>
<head>
<title>Components | Mangame</title>
<link rel="stylesheet" type="text/css" href="css/examples.css" />
<script type="text/javascript" src="../src/mangame.js"></script>
<script type="text/javascript">
var SceneTest = Scene2D.extend({

    init: function(game) {
        this._super(game);
        var self = this;
        
        this.label1 = new Text(game.canvas, 200, 60, "Username:");
        this.inputText = new InputText(game, 200, 75, "username");
        this.inputText.width(210);
        
        this.label2 = new Text(game.canvas, 200, 120, "Password:");
        this.inputPassword = new InputPassword(game, 200, 135, "password");
        this.inputPassword.width(210);
        
        this.button1 = this.createButton(game, 200, 180, {
            'out' : 'Submit',
            'action': function() { alert("Username: " + self.inputText.value() + "\nPassword: " + self.inputPassword.value()); }
        });
        this.button2 = this.createButton(game, 310, 180, {
            'out' : 'Clear',
            'action': function() { self.inputText.value(""); self.inputPassword.value(""); }
        });
        
        this.add(this.label1);
        this.add(this.inputText);
        this.add(this.label2);
        this.add(this.inputPassword);
        this.add(this.button1);
        this.add(this.button2);
    },

    createButton: function(game, x, y, props) {
        var outNodes = new GraphicsGroup(game.canvas, 0, 0);
        var out = new Rectangle(game.canvas, 0, 0, 100, 30, 5);
        out.fill.color("#f1f1f1");
        out.stroke.color("#cccccc");

        var outLabel = new Text(game.canvas, 50, 10, props['out']);
        outLabel.color("#999999");
        outLabel.align("center");

        outNodes.add(out);
        outNodes.add(outLabel);

        var overNodes = new GraphicsGroup(game.canvas, 0, 0);
        var over = new Rectangle(game.canvas, 0, 0, 100, 30, 5);
        over.fill.color("#f1f1f1");
        over.stroke.color("#cccccc");
        over.shadow.color("#cccccc");
        over.shadow.blur(10);
        over.shadow.offsetX(1);
        over.shadow.offsetY(1);

        var overLabel = new Text(game.canvas, 50, 10, props['over'] || props['out']);
        overLabel.color("#cccccc");
        overLabel.align("center");

        overNodes.add(over);
        overNodes.add(overLabel);

        var pressedNodes = new GraphicsGroup(game.canvas, 0, 0);
        var pressedLabel = new Text(game.canvas, 50, 10, props['pressed'] || props['out']);
        pressedLabel.color("#cccccc");
        pressedLabel.align("center");
        pressedNodes.add(out);
        pressedNodes.add(pressedLabel);

        var btn = new Button(game, x, y,
            {
                'out' : outNodes,
                'over' : overNodes,
                'pressed' : pressedNodes,
                'onrelease' : props['action']
            }
        );
        return btn;
    },
    
    _updateImpl: function(elapsedTime) {
    }

})

window.onload = function() {

    var canvas = new Canvas("canvas");

    var game = new Game(canvas, {require: ['geom', 'ui']});
    game.onLoad = function() {
        game.showFps = true;

        var scene = new SceneTest(game);
        game.addScene(scene);

        game.play();
    }

}
</script>
</head>
<body>
    <div id="example" class="components">
        <h1><a href="https://github.com/rogeriolino/mangame" title="goto project">MANGAME</a></h1>
        <h2>UI Components example</h2>
        <div class="canvas-frame">
            <canvas id="canvas" width="640" height="480">
                <p>Your browser doesn't support HTML5 Canvas</p>
            </canvas>
            <div class="description">
                <p>Canvas button implementation and DOM Input integration</p>
            </div>
        </div>
    </div>
</html>
